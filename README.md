# DMR-listener

DMR listener is a tool that scrapes the "call watch" web service of a C-Bridge, listens to MQTT
data brom Brandmeister and collects information about the usage.

I started collecting data because of the limited size of the talkgroup dictionary on my XPR radios,
I wanted to find the top users to program by hand with CPS.

Once I started collecting data, I saw that I could extract a lot more useful intelligence from it.
That's when I added the HTML reports and graphs.  This tool grew by accident.

There is data generated:

* usage by talkgroup by repeater
* usage by user by repeater by talkgroup
* talkgroup activity plotted over time
* exported contacts list in N0GSG and MotoContacts formats
* A web page with selected Georgia Repeaters and Talk Groups.  This comes partially from static  
  data, but is verified nightly against the collected usage data.  By using the last heard data,
  a user can figure out what talkgroups are working where.  The static data is still maintained
  by hand by me based on reading log data from the nightly jobs.  This is suboptimal.
* Web reports for repeater and user usage, live at https://www.n1kdo.com/dmr_data

This is perhaps the fourth generation of this, the current version uses `async_lister.py` 
to listen to Brandmeister and HamDigital cbridge to try to collect useful information from
Brandmeister and a limited view of CBridge traffic from HamDigital.

There is some load on the servers generated by the data collection process.  This is 
about the same or less as a user leaving a dashboard open.

![example](activity.png)
